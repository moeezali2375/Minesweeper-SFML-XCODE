#include <iostream>
#include <fstream>
#include <ctime>
#include "sfml_header.h"
using namespace std;
void full_setting_bazi(int grid[][100], const int &r, const int &c, int m)
{
    srand(time(NULL));
    // MINE RESETTER
    for (int i = 0; i < r; i++)
    {
        for (int j = 0; j < c; j++)
        {
            grid[i][j] = 0;
        }
    }
    // MINE INSTALLER
    while (m != 0)
    {
        int rows = rand() % r;
        int columns = rand() % c;
        if (grid[rows][columns] == 100)
        {
            ;
        }
        else
        {
            grid[rows][columns] = 100;
            m--;
        }
    }
    // MINE COUNTER
    for (int i = 0; i < r; i++)
    {
        for (int j = 0; j < c; j++)
        {
            int mines_counter = 0;
            if (grid[i][j] == 100)
                continue;
            else
            {
                if (j < c - 1)
                {
                    if (grid[i][j + 1] == 100)
                        mines_counter++;
                }
                if (j > 0)
                {
                    if (grid[i][j - 1] == 100)
                        mines_counter++;
                }
                if (i < r - 1 && j < c - 1)
                {
                    if (grid[i + 1][j + 1] == 100)
                        mines_counter++;
                }
                if (i < r - 1 && j > 0)
                {
                    if (grid[i + 1][j - 1] == 100)
                        mines_counter++;
                }
                if (i < r - 1)
                {
                    if (grid[i + 1][j] == 100)
                        mines_counter++;
                }
                if (i > 0)
                {
                    if (grid[i - 1][j] == 100)
                        mines_counter++;
                }
                if (i > 0 && j < c - 1)
                {
                    if (grid[i - 1][j + 1] == 100)
                        mines_counter++;
                }
                if (i > 0 && j > 0)
                {
                    if (grid[i - 1][j - 1] == 100)
                        mines_counter++;
                }
            }
            grid[i][j] = mines_counter;
        }
    }

    for (int i = 0; i < r; i++)
    {
        for (int j = 0; j < c; j++)
        {
            if (grid[i][j] == 100)
                cout << "*";
            else
                cout << grid[i][j];
        }
        cout << endl;
    }
}
// //=========================================================================================================================================================================================================================================================================================================================================================================================================
//
//  ###    ###  ##  ##     ##  #####   ####
//  ## #  # ##  ##  ####   ##  ##     ##
//  ##  ##  ##  ##  ##  ## ##  #####   ###
//  ##      ##  ##  ##    ###  ##        ##
//  ##      ##  ##  ##     ##  #####  ####
//
//=========================================================================================================================================================================================================================================================================================================================================================================================================
class Mines
{
private:
    int mines;

public:
    Mines()
    {
        mines = 0;
    }
    virtual void setmines(int m)
    {
        this->mines = m;
    }
};
////=================================================================================================================================================================================================================================================================================================================================================================================================
//
//  #####    ###     ####  ##    ##
//  ##      ## ##   ##      ##  ##
//  #####  ##   ##   ###     ####
//  ##     #######     ##     ##
//  #####  ##   ##  ####      ##
//
//=================================================================================================================================================================================================================================================================================================================================================================================================
class easy_Mines : public Mines
{
    int r, c;
    int grid[100][100];

public:
    easy_Mines(int r = 9, int c = 9, int m = 10)
    {
        int w = 29;
        setmines(m);
        full_setting_bazi(grid, r, c, m);
        console(grid, r, c, w, "MINESWEEPER BUT EASY!", m);
    }
};
////====================================================================================================================================================================================================================================================================================================================================================================================================================
//
//  ###    ###  #####  ####    ##  ##   ##  ###    ###
//  ## #  # ##  ##     ##  ##  ##  ##   ##  ## #  # ##
//  ##  ##  ##  #####  ##  ##  ##  ##   ##  ##  ##  ##
//  ##      ##  ##     ##  ##  ##  ##   ##  ##      ##
//  ##      ##  #####  ####    ##   #####   ##      ##
//
//====================================================================================================================================================================================================================================================================================================================================================================================================================
class medium_Mines : public Mines
{
    int r, c;
    int grid[100][100];

public:
    medium_Mines(int r = 16, int c = 16, int m = 40)
    {
        int w = 29;
        setmines(m);
        full_setting_bazi(grid, r, c, m);
        console(grid, r, c, w, "MINESWEEPER BUT MEDIUM", m);
    }
};
////===================================================================================================================================================================================================================================================================================================================================================================================================
//
//  ##   ##    ###    #####    ####
//  ##   ##   ## ##   ##  ##   ##  ##
//  #######  ##   ##  #####    ##  ##
//  ##   ##  #######  ##  ##   ##  ##
//  ##   ##  ##   ##  ##   ##  ####
//
//===================================================================================================================================================================================================================================================================================================================================================================================================
class hard_Mines : public Mines
{
    int r, c;
    int grid[100][100];

public:
    hard_Mines(int r = 16, int c = 30, int m = 99)
    {
        int w = 29;
        setmines(m);
        full_setting_bazi(grid, r, c, m);
        console(grid, r, c, w, "MINESWEEPER BUT HARD", m);
    }
};
